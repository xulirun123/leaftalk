<!DOCTYPE html>
<html>
<head>
    <title>æµ‹è¯•å¶è¯­å·API</title>
</head>
<body>
    <h1>æµ‹è¯•å¶è¯­å·æ£€æŸ¥API</h1>
    <input type="text" id="yeyuInput" placeholder="è¾“å…¥å¶è¯­å·" value="YYFSRATEHB">
    <button onclick="checkYeyu()">æ£€æŸ¥å¶è¯­å·</button>
    <div id="result"></div>

    <script>
        async function checkYeyu() {
            const yeyuId = document.getElementById('yeyuInput').value;
            const resultDiv = document.getElementById('result');
            
            try {
                console.log('ğŸ” å¼€å§‹æ£€æŸ¥å¶è¯­å·:', yeyuId);
                
                const response = await fetch('http://localhost:8893/api/user/check-yeyu-id', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoieWFuZ2RhIiwiaWF0IjoxNzU3NDQ0NzU5LCJleHAiOjE3NTc0NDgzNTl9.Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8'
                    },
                    body: JSON.stringify({
                        yeyuId: yeyuId
                    })
                });
                
                console.log('ğŸ“¡ APIå“åº”çŠ¶æ€:', response.status);
                
                if (response.ok) {
                    const result = await response.json();
                    console.log('ğŸ“Š APIå“åº”ç»“æœ:', result);
                    resultDiv.innerHTML = `
                        <h3>æ£€æŸ¥ç»“æœ:</h3>
                        <p>æˆåŠŸ: ${result.success}</p>
                        <p>å¯ç”¨: ${result.available}</p>
                        <p>æ¶ˆæ¯: ${result.message}</p>
                    `;
                } else {
                    const errorData = await response.json();
                    console.error('âŒ APIé”™è¯¯:', errorData);
                    resultDiv.innerHTML = `<p style="color: red;">é”™è¯¯: ${errorData.error}</p>`;
                }
            } catch (error) {
                console.error('âŒ ç½‘ç»œé”™è¯¯:', error);
                resultDiv.innerHTML = `<p style="color: red;">ç½‘ç»œé”™è¯¯: ${error.message}</p>`;
            }
        }
    </script>
</body>
</html>
